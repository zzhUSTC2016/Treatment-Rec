# Data-driven Automatic Treatment Regimen Development and Recommendation

Authors: Leilei Sun, Chuanren Liu, Chonghui Guo, Hui Xiong, Yanming Xie

Keywords: Treatment Regimen; Treatment Recommendation, Electronic Medical Records; Temporal Sets.

KDD’16  大连理工大学 (Dalian University of Technology)，卓克索大学 (Drexel University)，中国中医科学院 (China Academy of China Medical Sciences)

论文链接：

------

[TOC]



## 0. 总结

本文方法比较清晰，但假设比较强，是治疗方案推荐的很好的初步尝试。

数据是在中国收集的，不知道相关数据集和代码是否已经公开？

## 1.研究目标

根据历史病历数据，对患者和治疗方案分别进行分类，并提取出一些典型的治疗方案。对新患者，根据患者基本信息和诊断信息，推荐相应的治疗方案，辅助医疗决策，提高治愈率和治疗有效性。

## 2.问题背景

电子病历信息没有被充分利用，医疗资源分布不均，大数据手段可以提高医疗效率，提高整体医疗水平。

<div align="center"><img src="图片路径" style="zoom:20%" alt="图片名称"/></div>

## 3. 问题定义-EMR 的内容

本文用到的电子医疗记录（Electronic Medical Records, EMRs）主要包含以下五种信息：

### 3.1 人口统计信息 Demographic Information

包含患者的基本信息，如性别、年龄、家庭住址、种族、受教育程度等信息。

### 3.2 诊断信息 Diagnostic Information

包含疾病名称和严重程度

### 3.3 医嘱 Doctor Order

包含药物名称、使用方式、剂量、频率、开始日期和结束日期。

### 3.4 治疗方案 Treatment

治疗方案是在医嘱之上整理出来的，记录患者每天接受了哪些治疗。

进一步，可以将患者的病程分为几个阶段，每个阶段都有几个治疗方案，其中记录了患者接受了哪些治疗，分别接受了几次（这里就不记录这几次治疗具体发生的日期，而是只记录次数）。

###  3.5 结果 Outcome

结果指患者出院时医生对患者的状态评估，可以分为“治愈（cured）“，“改善（improved）”，“无效（ineffective）”，“死亡（dead）”。

<img src="0406-Data-driven Automatic Treatment Regimen Development and Recommendation.assets/image-20220407171622186.png" alt="image-20220407171622186" style="zoom: 80%;" />

上面五种信息中，前两个（基本信息和诊断信息）可以视为条件，第四个（治疗方案）可以视为干预变量，最后一个（结果）可以视为目标。

## 4. 方法

### 4.1 治疗方案相似度度量

**总体思路**：每个患者的治疗方案可以被分为多个阶段的治疗方案，每个阶段的治疗方案包含用了哪些药物，以及服用方式、剂量和使用次数。在相似度度量时，首先度量各个对应阶段之间的相似度（***如果阶段数量不一样怎么办？***），然后再整合得到整体相似度。

- 治疗方案相似度首先被拆分为药物之间的相似度——相同名称的药物会有非零相似度，再根据服用方式、剂量和频率来计算一个0到1之间的相似度数值。
- 两个分阶段治疗方案之间的相似度变为两个集合之间的相似度度量，其中集合元素之间的相似度已知。
  - 本文提出一种矩阵，将元素之间的相似度加权组合为集合之间的相似度。
- 得到各个阶段治疗方案的相似度之后，再加权平均得到两个治疗方案的整体相似度

### 4.2 治疗方案聚类

基于治疗方案之间的相似度，本文提出一种基于密度峰值的聚类算法，可以得到治疗方案的聚类中心。

### 4.3 提取典型治疗方案

由于本场景的特殊性，聚类中心的治疗方案也无法完全代表这类每个类别，仍需进一步处理。

具体来说，就是看一下哪些药物用的比较多，再提取一下典型的使用剂量、使用方式和持续时间等信息。

### 4.4 治疗方案推荐

对病人也进行分类（决策树），每个叶子节点认为是一个类型的患者，然后看一下这些患者使用哪个典型治疗方案比较多，就作为这个叶子节点的推荐方案。

## 5. 实验

### 5.1 数据

数据来自中国14家三甲医院，分布在北京，石家庄，深圳，济南，长春，福州和西安。

实验专注于**脑梗塞**的药物推荐。

收集了2.7万的患者数据，医嘱数量100万。

### 5.2 提取典型治疗方案

其中使用了1090种药物，但大多数药物都是用于治疗其他疾病的。本文选取了138种最相关的药物，有36万医嘱包含这些药物，平均每个患者13个。

治疗过程分为四个阶段：前24小时、2-3天、4-7天、8-14天。

最终提取出四种典型的治疗方案

<img src="0406-Data-driven Automatic Treatment Regimen Development and Recommendation.assets/image-20220407211140955.png" alt="image-20220407211140955" style="zoom:67%;" />

### 5.3 治疗方案推荐

对病人进行分类，分了17个类别。每个类别找一个治疗效果最好的（不一定是使用最多的）作为推荐结果。

### 5.4 推荐效果评估

由于每个类别都找到了统计上治疗效果最好的治疗方案，假设这些治疗方案推广到这个类别上的所有患者，再假设推广到其他患者身上之后仍然有这么好的治疗效果，计算一下推广之后，总体的治疗有效率和治愈率能提升多少。

<img src="0406-Data-driven Automatic Treatment Regimen Development and Recommendation.assets/image-20220407212219657.png" alt="image-20220407212219657" style="zoom:67%;" />

